<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org" >
<head>

</head>
<body>
<button type="button" class="btn btn-warning text-white" data-toggle="modal" data-target="#exampleModalLong">
    Editar Empresa
</button>
<div  class="modal  fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div  class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Editar nome da empresa</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div  class="modal-body ">
                <form th:action="@{/editarEmpresa}"style="margin: 10px 15%" method="post">
                    <label for="empresa">Selecione uma empresa:</label>
                    <select id="empresa" class="custom-select empresasEditar" name="empresa">
                    </select>
                    <label style="margin: 10px 0 8px 0" for="novaEmpresa">Digite o novo nome para essa empresa:</label>
                    <div class="form-group d-flex justify-content-between">
                        <input type="text" id="novaEmpresa" class="form-control inputValor" name="nomeNovo" placeholder="Novo nome da empresa *">
                    </div>
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="btn btn-warning text-white" style="margin-top: 10px;">Confirmar</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>
<script  type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    var empresas = [[${listaEmpresas}]];
    console.log(empresas);
    /*]]>*/

    const select = document.querySelector('select.empresasEditar');

    empresas.forEach(function (empresa){
        var textnode = document.createTextNode(empresa.nome);
        var option = document.createElement('option');
        option.appendChild(textnode);
        select.appendChild(option);
    });
</script>
</body>
</html>